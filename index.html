<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Library</title>
    <meta name="description" content="Your personal movie collection with reviews, watchlist, achievements, and more!">
    <link rel="canonical" href="https://g8smovielib.vercel.app/">
    <meta name="robots" content="index, follow">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Movie Library">
    <meta property="og:title" content="Movie Library">
    <meta property="og:description"
        content="Your personal movie collection with reviews, watchlist, achievements, and more!">
    <meta property="og:url" content="https://g8smovielib.vercel.app/">
    <meta property="og:image" content="https://g8smovielib.vercel.app/og-image.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Movie Library">
    <meta name="twitter:description"
        content="Your personal movie collection with reviews, watchlist, achievements, and more!">
    <meta name="twitter:image" content="https://g8smovielib.vercel.app/og-image.png">
    <link rel="stylesheet" href="./css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" sizes="32x32" href="./images/popcorn.png">

</head>

<body>
    <div class="app" id="app">

        <!-- ========== SCREEN 1: LOGIN / SIGNUP ========== -->
        <section id="auth-screen" class="screen">
            <div class="auth-container">
                <h1 class="auth-title">ğŸ¬ SuPAI Movie Library ğŸ¿ğŸ¾</h1>
                <p class="auth-subtitle">Your personal movie collection with an ML Recommender's Engine! ğŸ§ âœ¨</p>

                <div class="auth-tabs">
                    <button class="auth-tab active" id="login-tab">Login</button>
                    <button class="auth-tab" id="signup-tab">Sign Up</button>
                </div>

                <!-- Login Form -->
                <form id="login-form" class="auth-form">
                    <div class="form-group">
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <div class="password-field">
                            <input type="password" id="login-password" required minlength="6">
                            <button type="button" class="password-toggle" id="login-password-toggle"
                                aria-label="Show password">Show</button>
                        </div>
                    </div>
                    <div class="remember-me">
                        <label class="checkbox-label">
                            <input type="checkbox" id="remember-me-checkbox">
                            <span>Remember Me</span>
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary">Login</button>
                    <p class="error-message" id="login-error"></p>
                    <button type="button" class="forgot-password-link" id="forgot-password-link">Forgot
                        Password?</button>
                </form>

                <!-- Signup Form -->
                <form id="signup-form" class="auth-form hidden">
                    <div class="form-group">
                        <label for="signup-name">Name</label>
                        <input type="text" id="signup-name" required minlength="2">
                    </div>
                    <div class="form-group">
                        <label for="signup-email">Email</label>
                        <input type="email" id="signup-email" required>
                    </div>
                    <div class="form-group">
                        <label for="signup-password">Password</label>
                        <input type="password" id="signup-password" required minlength="6">
                    </div>
                    <div class="form-group">
                        <label for="signup-security-question">Security Question (for password recovery)</label>
                        <select id="signup-security-question" required>
                            <option value="">Select a question...</option>
                            <option value="What is your favorite movie?">What is your favorite movie?</option>
                            <option value="What city were you born in?">What city were you born in?</option>
                            <option value="What is your pet's name?">What is your pet's name?</option>
                            <option value="What is your mother's maiden name?">What is your mother's maiden name?
                            </option>
                            <option value="What was your first school?">What was your first school?</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="signup-security-answer">Security Answer</label>
                        <input type="text" id="signup-security-answer" required
                            placeholder="Your answer (case-insensitive)">
                    </div>
                    <button type="submit" class="btn btn-primary">Create Account</button>
                    <p class="error-message" id="signup-error"></p>
                </form>

                <!-- Password Reset Form (hidden by default) -->
                <form id="reset-form" class="auth-form hidden">
                    <h3 class="reset-title">ğŸ” Reset Password</h3>
                    <div class="form-group">
                        <label for="reset-email">Your Email</label>
                        <input type="email" id="reset-email" required>
                    </div>
                    <div class="form-group hidden" id="reset-question-group">
                        <label id="reset-question-label">Security Question</label>
                        <input type="text" id="reset-answer" placeholder="Your answer">
                    </div>
                    <div class="form-group hidden" id="reset-password-group">
                        <label for="reset-new-password">New Password</label>
                        <input type="password" id="reset-new-password" minlength="6">
                    </div>
                    <button type="button" class="btn btn-primary" id="reset-submit-btn">Verify Email</button>
                    <p class="error-message" id="reset-error"></p>
                    <button type="button" class="forgot-password-link" id="back-to-login-link">â† Back to Login</button>
                </form>
            </div>
        </section>

        <!-- ========== SCREEN 2: DASHBOARD ========== -->
        <section id="dashboard-screen" class="screen hidden">
            <header class="dashboard-header">
                <div class="header-left">
                    <h1 class="logo">ğŸ¬ SuPAI Movie Library ğŸ¿ğŸ¾</h1>
                </div>
                <div class="header-right">
                    <div class="user-stats" id="user-stats"></div>
                    <!-- Feature 1: Theme Toggle -->
                    <button class="btn btn-small btn-icon" id="theme-toggle-btn" title="Toggle Theme">ğŸŒ™</button>
                    <div class="account-controls">
                        <span class="user-greeting" id="user-greeting">Welcome, User</span>
                        <button class="btn btn-small btn-secondary" id="security-settings-btn"
                            title="Security Settings">ğŸ” Security</button>
                        <button class="btn btn-small btn-danger" id="logout-btn">Logout</button>
                    </div>
                </div>
            </header>

            <!-- Feature Toolbar -->
            <div class="toolbar">
                <button class="btn btn-small btn-secondary" id="stats-btn" title="Stats Dashboard">ğŸ“Š Stats</button>
                <button class="btn btn-small btn-secondary" id="achievements-btn" title="Achievements">ğŸ†
                    Badges</button>
                <button class="btn btn-small btn-secondary" id="timeline-btn" title="Timeline">â±ï¸ Timeline</button>
                <button class="btn btn-small btn-secondary" id="recommendations-btn" title="Recommendations">ğŸ¤– For
                    You</button>
                <button class="btn btn-small btn-secondary" id="quiz-btn" title="Movie Quiz">ğŸ® Quiz</button>
                <button class="btn btn-small btn-secondary" id="random-pick-btn" title="Random Pick">ğŸ² Random</button>
                <button class="btn btn-small btn-secondary" id="export-btn" title="Export Collection">ğŸ’¾ Export</button>
                <button class="btn btn-small btn-secondary" id="import-btn" title="Import Collection">ğŸ“‚ Import</button>
            </div>

            <!-- Search Bar -->
            <div class="search-container">
                <input type="text" id="search-input" class="search-input" placeholder="Search movies by title...">
                <button class="btn btn-primary" id="search-btn">
                    <span class="btn-emoji" aria-hidden="true">ğŸ”</span>
                    <span class="btn-text">Search</span>
                </button>
                <button class="btn btn-small btn-secondary" id="advanced-search-toggle">âš™ï¸</button>
            </div>

            <!-- Feature 9: Advanced Search Panel -->
            <div id="advanced-search-panel" class="advanced-search hidden">
                <div class="form-group">
                    <label for="search-year">Year</label>
                    <input type="number" id="search-year" placeholder="e.g. 2024" min="1900" max="2030">
                </div>
                <div class="form-group">
                    <label for="search-type">Type</label>
                    <select id="search-type">
                        <option value="movie">Movie</option>
                        <option value="series">Series</option>
                        <option value="">Any</option>
                    </select>
                </div>
            </div>

            <!-- Search Results -->
            <div id="search-results" class="search-results hidden">
                <div class="section-header">
                    <h2>Search Results</h2>
                    <button class="btn btn-small btn-secondary" id="close-search-btn">âœ• Close</button>
                </div>
                <div id="search-results-grid" class="movie-grid"></div>
                <p id="search-message" class="info-message"></p>
            </div>

            <!-- Feature 6: Collection / Watchlist Tabs -->
            <div class="tab-bar">
                <button class="tab-btn active" data-tab="collection">ğŸ“š Collection</button>
                <button class="tab-btn" data-tab="watchlist">ğŸ“‹ Watchlist</button>
            </div>

            <!-- Genre Filter -->
            <div class="filter-bar">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="Action">ğŸ”¥ Action</button>
                <button class="filter-btn" data-filter="Comedy">ğŸ˜‚ Comedy</button>
                <button class="filter-btn" data-filter="Drama">ğŸ­ Drama</button>
                <button class="filter-btn" data-filter="Horror">ğŸ‘» Horror</button>
                <button class="filter-btn" data-filter="Other">ğŸ“½ï¸ Other</button>
            </div>

            <!-- Feature 2: Sort Bar -->
            <div class="sort-bar">
                <span class="sort-label">Sort:</span>
                <button class="sort-btn active" data-sort="dateAdded">ğŸ“… Recent</button>
                <button class="sort-btn" data-sort="title">ğŸ”¤ Title</button>
                <button class="sort-btn" data-sort="rating">â­ Rating</button>
                <button class="sort-btn" data-sort="year">ğŸ“† Year</button>
            </div>

            <!-- My Collection -->
            <div class="collection-container">
                <h2 class="section-title">My Collection <span id="collection-count">(0 movies)</span></h2>
                <div id="collection-grid" class="movie-grid"></div>
                <p id="empty-collection" class="info-message">Your collection is empty. Search for movies to add!</p>
            </div>
        </section>

        <!-- ========== MODAL: MOVIE DETAIL ========== -->
        <div id="movie-modal" class="modal hidden">
            <div class="modal-overlay" id="modal-overlay"></div>
            <div class="modal-content">
                <button class="modal-close" id="modal-close-btn">âœ•</button>
                <div id="modal-body"></div>
            </div>
        </div>

    </div>

    <!-- Script loading order matters: dependencies first, then classes, then app -->
    <script src="./js/EventEmitter.js"></script>
    <script src="./js/Toast.js"></script>
    <script src="./js/Review.js"></script>
    <script src="./js/Movie.js"></script>
    <script src="./js/Achievement.js"></script>
    <script src="./js/User.js"></script>
    <script src="./js/Recommender.js"></script>
    <script src="./js/api.js"></script>
    <script src="./js/app.js"></script>
</body>

</html>